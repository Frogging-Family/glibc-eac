From 5d065a741c8c1005d43090255889240ec031d11f Mon Sep 17 00:00:00 2001
From: Etienne JUVIGNY <ti3nou@gmail.com>
Date: Thu, 22 Dec 2022 16:10:44 +0100
Subject: Add rogue company reverts patch


diff --git a/trunk/PKGBUILD b/trunk/PKGBUILD
index a783164..3a8bdc5 100644
--- a/trunk/PKGBUILD
+++ b/trunk/PKGBUILD
@@ -22,6 +22,7 @@ source=(git+https://sourceware.org/git/glibc.git#commit=${_commit}
         sdt.h sdt-config.h
         reenable_DT_HASH.patch
         cve-2023-25139.patch
+        rogue_company_reverts.patch
 )
 validpgpkeys=(7273542B39962DF7B299931416792B4EA25340F8 # Carlos O'Donell
               BC7C7372637EC10C57D7AA6579C43DFBF1CF2187) # Siddhesh Poyarekar
@@ -31,7 +32,8 @@ b2sums=('SKIP'
         'a6a5e2f2a627cc0d13d11a82458cfd0aa75ec1c5a3c7647e5d5a3bb1d4c0770887a3909bfda1236803d5bc9801bfd6251e13483e9adf797e4725332cd0d91a0e'
         '214e995e84b342fe7b2a7704ce011b7c7fc74c2971f98eeb3b4e677b99c860addc0a7d91b8dc0f0b8be7537782ee331999e02ba48f4ccc1c331b60f27d715678'
         '5fdd133c367af2f5454ea1eea7907de12166fb95eb59dbe33eae16aa9e26209b6585972bc1c80e36a0af4bfb04296acaf940ee78cd624cdcbab9669dff46c051'
-        '917b876dbc2bc23d15ffedb56bfb51611f8c7a5b8321281a2cf488d442a45c38fc754e857573843042bf7cc3df87d4271bc723acd52aab4c8fc3c8f07d41456e')
+        '917b876dbc2bc23d15ffedb56bfb51611f8c7a5b8321281a2cf488d442a45c38fc754e857573843042bf7cc3df87d4271bc723acd52aab4c8fc3c8f07d41456e'
+        'SKIP')
 
 prepare() {
   mkdir -p glibc-build lib32-glibc-build
@@ -43,6 +45,9 @@ prepare() {
   # Technical the fix itself is complete but the test cases aren't.
   # See https://sourceware.org/bugzilla/show_bug.cgi?id=30068
   patch -Np1 -i "${srcdir}"/cve-2023-25139.patch
+
+  # Reverting 7a5db2e82fbb6c3a6e3fdae02b7166c5d0e8c7a8, 8208be389bce84be0e1c35a3daa0c3467418f921, 6bf789d69e6be48419094ca98f064e00297a27d5, b89d5de2508215ef3131db7bed76ac50b3f4c205, 86f0179bc003ffc34ffaa8d528a7a90153ac06c6 for Rogue Company to work again
+  patch -Np1 -i "${srcdir}"/rogue_company_reverts.patch
 }
 
 build() {
